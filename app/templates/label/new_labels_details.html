{% extends 'base.html' %}

{% block links %}
<link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet" />
{% endblock %}

{% block content %}
<div class="relative overflow-x-auto shadow-md dark:bg-gray-800 mt-5 text-gray-800 dark:text-white">
    <h1 class="text-2xl md:text-4xl font-bold mt-10 mb-4 md:mt-12 md:mb-10 px-5">
        Register new labels
    </h1>
    <div class="text-xs lg:text-sm md:px-5 md:pb-5">
        <div class="w-full p-3 md:pl-0 flex justify-between">
            <!-- <h3 class="mt-6 md:mt-0 text-lg font-bold">New Labels</h3> -->
            <p class="my-5">
                This is a list of all new labels according to the amount you selected.
                <br>
                Click on the label name to see more details.
            </p>

            <button type="button" id="add-make-model"
                class="ml-2 max-h-12 align-middle my-4 text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-0 text-center dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-blue-800">
                Create new model
            </button>
        </div>

        <div class="w-full bg-gray-100 dark:bg-gray-800">
            <div class="w-full flex text-xs text-white font-bold mb-2 px-1 py-3 md:p-3 bg-indigo-700 rounded-t-lg">
                <p class="w-1/2 md:w-full pl-3 flex items-center justify-start">Adding Labels</p>
                <p class="w-1/12 flex items-center justify-center"></p>
                <p class="w-3/12 hidden md:flex items-center justify-center"></p>
                <p class="w-3/12 flex items-center justify-center"></p>
                <p class="w-1/12 flex items-center justify-center"></p>
            </div>

            <form action="{{url_for('labels.new_label_set_details', user_unique_id=user_unique_id, amount=amount)}}"
                method="post" class="relative bg-white rounded-lg shadow dark:bg-gray-800">
                {{ form_hidden_tag() }}
                {% set amount_int = amount | int %}
                {% for i in range(amount_int) %}
                <div class="w-full flex text-xs text-gray-600 dark:text-white font-bold px-1 py-3 md:p-3">
                    <p
                        class="new_label_details w-1/2 md:w-full pl-3 flex items-center justify-start hover:text-indigo-500 cursor-pointer">
                        Label details
                    </p>
                    <p class="w-1/12 flex items-center justify-center"></p>
                    <p class="w-3/12 hidden md:flex items-center justify-center"></p>
                    <p class="w-3/12 flex items-center justify-center"></p>
                    <p
                        class="w-1/12 flex items-center justify-center hover:text-indigo-500 cursor-pointer label-deactivate-button">
                    </p>
                </div>
                <div class="w-full bg-gray-100 dark:bg-gray-700">
                    <input type="hidden" name="user_id" id="new-label-{{ i+1 }}-user-id" value="{{current_user.id}}" />
                    <div class="p-6 space-y-6">
                        <div class="w-full px-1">
                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="name"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Unique Label Identifier
                                    </label>
                                    <input type="text" name="sticker-number-{{ i+1 }}"
                                        id="label-{{ i+1 }}-sticker-number"
                                        class="clean_name_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="i.e. QR23456" required />
                                </div>

                                <div class="w-full px-1">
                                    <label for="make"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Gift
                                    </label>
                                    <input type="text" name="gift-{{ i+1 }}" id="label-{{ i+1 }}-gift"
                                        class="clean_name_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="i.e. Free Oil Change" />
                                </div>
                            </div>

                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="name"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Label Name
                                    </label>
                                    <input type="text" name="name-{{ i+1 }}" id="label-{{ i+1 }}-name"
                                        class="clean_name_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="Reference Name to Internally Identify" required />
                                </div>

                                <div class="w-full px-1">
                                    <label for="make"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Make
                                    </label>
                                    <select id="make-{{ i+1 }}" name="make-{{ i+1 }}" data-model="{{ i+1 }}" required
                                        class="clean_name_input make w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white">
                                        {% if make_selected %}
                                        <option value="{{ make_selected }}">{{ make_selected }}</option>
                                        {% else %}
                                        <option value="" disabled selected>Select a make</option>
                                        {% endif %}
                                        {% for make in makes %}
                                        <option value="{{ make.name }}">{{ make.name }}</option>
                                        {% endfor %}
                                        <option value="add">Add New Make</option>
                                    </select>
                                </div>
                            </div>

                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="model"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Vehicle Model
                                    </label>
                                    <select id="vehicle_model-{{ i+1 }}" name="vehicle_model-{{ i+1 }}"
                                        data-trim="{{ i+1 }}" required
                                        class="clean_name_input model w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white">
                                        {% if model_selected %}
                                        <option value="{{ model_selected }}">{{ model_selected }}</option>
                                        {% else %}
                                        <option value="" disabled selected>Select a model</option>
                                        {% endif %}
                                        {% for model in models %}
                                        <option value="{{ model.name }}">{{ model.name }}</option>
                                        {% endfor %}
                                        <option value="add">Add New Model</option>
                                    </select>
                                </div>

                                <div class="w-full px-1">
                                    <label for="trim"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Trim
                                    </label>
                                    <select id="label-{{ i+1 }}-trim" name="trim-{{ i+1 }}" required
                                        class="w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white">
                                        {% if trim_selected %}
                                        <option value="{{ trim_selected }}">{{ trim_selected }}</option>
                                        {% else %}
                                        <option value="" selected>Select a trim</option>
                                        {% endif %}

                                        {% for trim in trims %}
                                        <option value="{{ trim.name }}">{{ trim.name }}</option>
                                        {% endfor %}
                                        <option value="add">Add a new trim</option>
                                    </select>
                                </div>
                            </div>

                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="year"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Year
                                    </label>
                                    <select name="year-{{ i+1 }}" id="label-{{ i+1 }}-year" required
                                        class="w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white">
                                        <option value="" disabled selected>Select year</option>
                                        {% for year in years() %}
                                        <option value="{{ year }}">{{ year }}</option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="w-full px-1">
                                    <label for="vtype"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Type Of Vehicle
                                    </label>
                                    <select id="label-{{ i+1 }}-type" name="type-{{ i+1 }}" required
                                        class="w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white">
                                        {% if type_selected %}
                                        <option value="{{ type_selected }}">{{ type_selected }}</option>
                                        {% else %}
                                        <option value="" selected>Select a type</option>
                                        {% endif %}
                                        {% for type in types %}
                                        <option value="{{ type.name }}">{{ type.name }}</option>
                                        {% endfor %}
                                        <option value="add">Add a new type</option>
                                    </select>
                                </div>
                            </div>

                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="mileage"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Mileage
                                    </label>
                                    <input type="text" name="mileage-{{ i+1 }}" id="label-{{ i+1 }}-mileage"
                                        class="clean_number_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="Mileage" required />
                                </div>

                                <div class="w-full px-1">
                                    <label for="color"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Colour
                                    </label>
                                    <input type="text" name="color-{{ i+1 }}" id="label-{{ i+1 }}-color"
                                        class="clean_name_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="Colour" />
                                </div>
                            </div>

                            <div class="w-full flex justify-between">
                                <div class="w-full px-1">
                                    <label for="price"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        Price
                                    </label>
                                    <input type="text" name="price-{{ i+1 }}" id="label-{{ i+1 }}-price"
                                        class="clean_number_input w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="Price" required />
                                </div>

                                <div class="w-full px-1">
                                    <label for="url"
                                        class="block mt-2 text-sm font-medium text-gray-900 dark:text-white">
                                        URL
                                    </label>
                                    <input type="text" name="url-{{ i+1 }}" id="label-{{ i+1 }}-url"
                                        class="w-full p-2 text-sm border-0 border-b-2 border-gray-400 outline-none bg-inherit dark:text-white"
                                        placeholder="URL" required />
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                {% endfor %}

                <button name="submit" type="submit"
                    class="ml-2 my-2 text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 pt-2.5 pb-3 text-center dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-blue-800">
                    Proceed to billing >
                </button>
            </form>
        </div>
    </div>
</div>

{% include 'label/add_make.html' %}
{% include 'label/add_model.html' %}
{% include 'label/add_trim.html' %}
{% include 'label/add_type.html' %}
{% include 'label/add_make_model.html' %}
<!-- prettier-ignore -->
{% endblock %}
<!-- prettier-ignore -->
{% block scripts %}
<script src="{{ url_for('static', filename='js/label.js') }}" type="text/javascript" defer></script>
<script src="{{ url_for('static', filename='js/custom.js') }}" type="text/javascript" defer></script>
{% endblock %}