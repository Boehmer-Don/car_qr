console.log("hi"),function(){var t=document.querySelectorAll(".plus-gift-box-item"),e=document.querySelectorAll(".minus-gift-box-item"),r=document.querySelector("#gift-boxes-form"),o=document.querySelector("#gift-boxes-submit-form"),i=document.querySelector("#gift-box-amount"),n=document.querySelector("#available-amount");function a(t){var e=t.target,r=e.previousElementSibling,o=parseFloat(r.getAttribute("max-qty")||"0"),a=parseFloat(r.getAttribute("min-qty")||"0"),l=parseFloat(r.getAttribute("price")||"0"),u=parseFloat(r.value)+1,c=e.closest(".box-item"),s=0;u>o||(s=0===parseFloat(r.value)?parseFloat(i.innerText)+l*a:parseFloat(i.innerText)+l)>parseFloat(n.innerText)||(r.value=u.toString(),i.innerText=s.toString(),c.style.backgroundColor&&"white"!==c.style.backgroundColor||(c.style.backgroundColor="#c7d2fe"))}function l(t){var e=t.target,r=e.nextElementSibling,o=parseFloat(r.getAttribute("price")||"0"),n=parseFloat(r.getAttribute("min-qty")||"0"),a=e.closest(".box-item"),l=parseFloat(r.value)-1;if(!(l<0)){if(l<n)return i.innerText=(parseFloat(i.innerText)-o*n).toString(),r.value="0",void(a.style.backgroundColor="white");r.value=l.toString(),i.innerText=(parseFloat(i.innerText)-o).toString()}}o.addEventListener("click",(function(){if(r.reportValidity()){var t=r.querySelector('input[name="gift_boxes"]'),e=document.querySelectorAll('input[name="gift_box"]'),i=Array.from(e).map((function(t){var e=t.getAttribute("box-item-id")||"",r=parseFloat(t.value||"0");return{giftItemId:e,totalPrice:parseFloat(t.getAttribute("price"))*r,qty:r}})).filter((function(t){return t.qty>0}));console.log(i),t.value=JSON.stringify(i),r.submit(),o.disabled=!0}})),t.forEach((function(t){t.addEventListener("click",a)})),e.forEach((function(t){t.addEventListener("click",l)}))}();