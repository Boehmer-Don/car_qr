console.log("hi"),function(){var t=document.querySelectorAll(".plus-gift-box-item"),e=document.querySelectorAll(".minus-gift-box-item"),r=document.querySelector("#gift-boxes-form"),i=document.querySelector("#gift-boxes-submit-form"),o=document.querySelector("#gift-box-amount"),n=document.querySelector("#available-amount");function a(t){var e=t.target,r=e.previousElementSibling,i=parseFloat(r.getAttribute("max-qty")||"0"),a=parseFloat(r.getAttribute("min-qty")||"0"),l=parseFloat(r.getAttribute("price")||"0"),u=parseFloat(r.value)+1,c=(e.closest(".box-item"),0),s=0;u>i||(0===parseFloat(r.value)&&0!==a?(s=a,c=parseFloat(o.innerText)+l*a):(s=u,c=parseFloat(o.innerText)+l),c>parseFloat(n.innerText)||(r.value=s.toString(),o.innerText=c.toFixed(1).toString()))}function l(t){var e=t.target,r=e.nextElementSibling,i=parseFloat(r.getAttribute("price")||"0"),n=parseFloat(r.getAttribute("min-qty")||"0"),a=e.closest(".box-item"),l=parseFloat(r.value)-1;if(!(l<0)){if(l<n)return o.innerText=(parseFloat(o.innerText)-i*n).toString(),r.value="0",void(a.style.backgroundColor="white");r.value=l.toString(),o.innerText=(parseFloat(o.innerText)-i).toFixed(1).toString()}}i.addEventListener("click",(function(){if(r.reportValidity()){var t=r.querySelector('input[name="gift_boxes"]'),e=document.querySelectorAll('input[name="gift_box"]'),o=Array.from(e).map((function(t){var e=t.getAttribute("box-item-id")||"",r=parseFloat(t.value||"0");return{dealerGiftItemId:e,totalPrice:parseFloat(t.getAttribute("price"))*r,qty:r}})).filter((function(t){return t.qty>0}));console.log(o),t.value=JSON.stringify(o),r.submit(),i.disabled=!0}})),t.forEach((function(t){t.addEventListener("click",a)})),e.forEach((function(t){t.addEventListener("click",l)}))}();