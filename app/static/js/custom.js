/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!***********************!*\
  !*** ./src/custom.ts ***!
  \***********************/
document.addEventListener('DOMContentLoaded', function () {
    var basic_plan = document.querySelector('#basic_plan_card');
    var advanced_plan = document.querySelector('#advanced_plan_card');
    var basicPlanButton = document.querySelector('#basic_radio');
    var advancedPlanButton = document.querySelector('#advanced_radio');
    var planChosen = document.querySelector('#plan_chosen');
    if (planChosen) {
        var planChosenData = planChosen.dataset.plan;
        if (planChosenData != 'Advanced Plan') {
            basic_plan.classList.add('indigo');
            basic_plan.classList.add('text-white');
            advanced_plan.classList.remove('indigo');
            advanced_plan.classList.remove('text-white');
            basicPlanButton.checked = true;
        }
        else {
            advanced_plan.classList.add('indigo');
            advanced_plan.classList.add('text-white');
            basic_plan.classList.remove('indigo');
            basic_plan.classList.remove('text-white');
            advancedPlanButton.checked = true;
        }
        basic_plan.addEventListener('click', function () {
            basic_plan.classList.add('indigo');
            basic_plan.classList.add('text-white');
            advanced_plan.classList.remove('indigo');
            advanced_plan.classList.remove('text-white');
            if (basicPlanButton.checked == true) {
                basicPlanButton.checked = false;
            }
            else {
                basicPlanButton.checked = true;
                basicPlanButton.style.display = 'none';
            }
        });
        advanced_plan.addEventListener('click', function () {
            advanced_plan.classList.add('indigo');
            advanced_plan.classList.add('text-white');
            basic_plan.classList.remove('indigo');
            basic_plan.classList.remove('text-white');
            if (advancedPlanButton.checked == true) {
                advancedPlanButton.checked = false;
            }
            else {
                advancedPlanButton.checked = true;
                advancedPlanButton.style.display = 'none';
            }
        });
    }
});
var cleanEmail = document.querySelector('.clean_email_input');
if (cleanEmail) {
    cleanEmail.addEventListener('input', function (e) {
        if (e.target.value) {
            var inputText = e.target.value.replace(/[^\w\d_.@-]/gi, '');
            e.target.value = inputText;
        }
    });
}
var cleanNameInputs = document.querySelectorAll('.clean_name_input');
if (cleanNameInputs) {
    cleanNameInputs.forEach(function (cleanNameInput) {
        cleanNameInput.addEventListener('input', function (e) {
            if (e.target.value) {
                var inputText = e.target.value.replace(/[^\w\d\s.-]/gi, '');
                e.target.value = inputText;
            }
        });
    });
}
var cleanNumberInputs = document.querySelectorAll('.clean_number_input');
cleanNumberInputs.forEach(function (cleanNumberInput) {
    cleanNumberInput.addEventListener('input', function (e) {
        if (e.target.value) {
            var inputText = e.target.value.replace(/[^\d]/gi, '');
            e.target.value = inputText;
        }
    });
});
var cleanPhone = document.querySelector('.clean_phone_input');
if (cleanPhone) {
    cleanPhone.addEventListener('input', function (e) {
        if (e.target.value) {
            var x = e.target.value
                .replace(/\D/g, '')
                .match(/(\d{0,3})(\d{0,3})(\d{0,4})/);
            e.target.value =
                x[1] +
                    (x[2] ? "-".concat(x[2]) : '') +
                    (x[3] ? "-".concat(x[3]) : '') +
                    (x[4] ? "-".concat(x[4]) : '');
        }
    });
}
var pricingButton = document.querySelector('#pricing_button');
if (pricingButton) {
    pricingButton.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelector('#pricing').scrollIntoView({
            behavior: 'smooth',
        });
    });
}
var contactButton = document.querySelector('#contact_button');
if (contactButton) {
    contactButton.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelector('#contacts').scrollIntoView({
            behavior: 'smooth',
        });
    });
}
var firstArrowButton = document.querySelector('#first_arrow');
if (firstArrowButton) {
    firstArrowButton.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelector('#second_section').scrollIntoView({
            behavior: 'smooth',
        });
    });
}
var secondArrowButtons = document.querySelectorAll('.second_arrow');
secondArrowButtons.forEach(function (secondArrowButton) {
    secondArrowButton.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelector('#fourth_section').scrollIntoView({
            behavior: 'smooth',
        });
    });
});
// Select the elements to reveal
var revealElements = document.querySelectorAll('.reveal-element');
// Create an Intersection Observer instance
var observer = new IntersectionObserver(function (entries) {
    entries.forEach(function (entry) {
        if (entry.isIntersecting) {
            if (entry.target.classList.contains('qr-code')) {
                entry.target.classList.add('flipInY');
                entry.target.classList.add('animated');
                entry.target.classList.add('reveal'); // Add the "reveal" class to trigger the animation
            }
            else {
                entry.target.classList.add('reveal'); // Add the "reveal" class to trigger the animation
                observer.unobserve(entry.target); // Stop observing once revealed
            }
        }
    });
}, { threshold: 0.5 }); // Adjust the threshold as needed
// Start observing each reveal element
revealElements.forEach(function (element) {
    observer.observe(element);
});
var landing_mobile_menu_button = document.querySelector('#landing_mobile_menu_button');
var landing_mobile_menu = document.querySelector('#landing_mobile_menu');
var footer = document.querySelector('footer');
var sections = document.querySelectorAll('section');
if (landing_mobile_menu_button) {
    landing_mobile_menu_button.addEventListener('click', function () {
        landing_mobile_menu.classList.toggle('hidden');
        footer.classList.toggle('hidden');
        sections.forEach(function (section) {
            section.classList.toggle('hidden');
        });
    });
}
var mobile_pricing = document.querySelector('#mobile_pricing');
var mobile_contacts = document.querySelector('#mobile_contact');
if (mobile_pricing) {
    mobile_pricing.addEventListener('click', function () {
        landing_mobile_menu.classList.toggle('hidden');
        footer.classList.toggle('hidden');
        sections.forEach(function (section) {
            section.classList.toggle('hidden');
        });
        document.querySelector('#pricing').scrollIntoView({
            behavior: 'smooth',
        });
    });
}
if (mobile_contacts) {
    console.log(mobile_contacts);
    mobile_contacts.addEventListener('click', function () {
        landing_mobile_menu.classList.toggle('hidden');
        footer.classList.toggle('hidden');
        sections.forEach(function (section) {
            section.classList.toggle('hidden');
        });
        document.querySelector('#contacts').scrollIntoView({
            behavior: 'smooth',
        });
    });
}
var mobileThemeButton = document.querySelector('#theme-toggle-wrapper');
var mobileMenuButton = document.querySelector('#mobile-menu-button');
console.log(mobileThemeButton);
if (mobileThemeButton) {
    mobileThemeButton.addEventListener('click', function () {
        console.log('mobileMenuButton clicked');
        mobileMenuButton.click();
    });
}

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtJQUNyQixpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7UUFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3hDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzNCLENBQUMsQ0FBQyxDQUFDO0NBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGF0aWMvLi9zcmMvY3VzdG9tLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGJhc2ljX3BsYW46IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmFzaWNfcGxhbl9jYXJkJyk7XG4gIGNvbnN0IGFkdmFuY2VkX3BsYW46IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWR2YW5jZWRfcGxhbl9jYXJkJyk7XG4gIGNvbnN0IGJhc2ljUGxhbkJ1dHRvbjogSFRNTElucHV0RWxlbWVudCA9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jhc2ljX3JhZGlvJyk7XG4gIGNvbnN0IGFkdmFuY2VkUGxhbkJ1dHRvbjogSFRNTElucHV0RWxlbWVudCA9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkdmFuY2VkX3JhZGlvJyk7XG5cbiAgY29uc3QgcGxhbkNob3NlbjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxhbl9jaG9zZW4nKTtcbiAgaWYgKHBsYW5DaG9zZW4pIHtcbiAgICBjb25zdCBwbGFuQ2hvc2VuRGF0YSA9IHBsYW5DaG9zZW4uZGF0YXNldC5wbGFuO1xuXG4gICAgaWYgKHBsYW5DaG9zZW5EYXRhICE9ICdBZHZhbmNlZCBQbGFuJykge1xuICAgICAgYmFzaWNfcGxhbi5jbGFzc0xpc3QuYWRkKCdpbmRpZ28nKTtcbiAgICAgIGJhc2ljX3BsYW4uY2xhc3NMaXN0LmFkZCgndGV4dC13aGl0ZScpO1xuICAgICAgYWR2YW5jZWRfcGxhbi5jbGFzc0xpc3QucmVtb3ZlKCdpbmRpZ28nKTtcbiAgICAgIGFkdmFuY2VkX3BsYW4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC13aGl0ZScpO1xuICAgICAgYmFzaWNQbGFuQnV0dG9uLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZHZhbmNlZF9wbGFuLmNsYXNzTGlzdC5hZGQoJ2luZGlnbycpO1xuICAgICAgYWR2YW5jZWRfcGxhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXdoaXRlJyk7XG4gICAgICBiYXNpY19wbGFuLmNsYXNzTGlzdC5yZW1vdmUoJ2luZGlnbycpO1xuICAgICAgYmFzaWNfcGxhbi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXdoaXRlJyk7XG4gICAgICBhZHZhbmNlZFBsYW5CdXR0b24uY2hlY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgYmFzaWNfcGxhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGJhc2ljX3BsYW4uY2xhc3NMaXN0LmFkZCgnaW5kaWdvJyk7XG4gICAgICBiYXNpY19wbGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtd2hpdGUnKTtcbiAgICAgIGFkdmFuY2VkX3BsYW4uY2xhc3NMaXN0LnJlbW92ZSgnaW5kaWdvJyk7XG4gICAgICBhZHZhbmNlZF9wbGFuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtd2hpdGUnKTtcblxuICAgICAgaWYgKGJhc2ljUGxhbkJ1dHRvbi5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgYmFzaWNQbGFuQnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2ljUGxhbkJ1dHRvbi5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgYmFzaWNQbGFuQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZHZhbmNlZF9wbGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgYWR2YW5jZWRfcGxhbi5jbGFzc0xpc3QuYWRkKCdpbmRpZ28nKTtcbiAgICAgIGFkdmFuY2VkX3BsYW4uY2xhc3NMaXN0LmFkZCgndGV4dC13aGl0ZScpO1xuICAgICAgYmFzaWNfcGxhbi5jbGFzc0xpc3QucmVtb3ZlKCdpbmRpZ28nKTtcbiAgICAgIGJhc2ljX3BsYW4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC13aGl0ZScpO1xuXG4gICAgICBpZiAoYWR2YW5jZWRQbGFuQnV0dG9uLmNoZWNrZWQgPT0gdHJ1ZSkge1xuICAgICAgICBhZHZhbmNlZFBsYW5CdXR0b24uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWR2YW5jZWRQbGFuQnV0dG9uLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBhZHZhbmNlZFBsYW5CdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbmNvbnN0IGNsZWFuRW1haWw6IEhUTUxJbnB1dEVsZW1lbnQgPVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYW5fZW1haWxfaW5wdXQnKTtcbmlmIChjbGVhbkVtYWlsKSB7XG4gIGNsZWFuRW1haWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZTogYW55KSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICBjb25zdCBpbnB1dFRleHQgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxcd1xcZF8uQC1dL2dpLCAnJyk7XG4gICAgICBlLnRhcmdldC52YWx1ZSA9IGlucHV0VGV4dDtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCBjbGVhbk5hbWVJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xlYW5fbmFtZV9pbnB1dCcpO1xuaWYgKGNsZWFuTmFtZUlucHV0cykge1xuICBjbGVhbk5hbWVJbnB1dHMuZm9yRWFjaChjbGVhbk5hbWVJbnB1dCA9PiB7XG4gICAgY2xlYW5OYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZTogYW55KSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgY29uc3QgaW5wdXRUZXh0ID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvW15cXHdcXGRcXHMuLV0vZ2ksICcnKTtcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSBpbnB1dFRleHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBjbGVhbk51bWJlcklucHV0czogTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PiA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbGVhbl9udW1iZXJfaW5wdXQnKTtcbmNsZWFuTnVtYmVySW5wdXRzLmZvckVhY2goY2xlYW5OdW1iZXJJbnB1dCA9PiB7XG4gIGNsZWFuTnVtYmVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZTogYW55KSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICBjb25zdCBpbnB1dFRleHQgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxcZF0vZ2ksICcnKTtcbiAgICAgIGUudGFyZ2V0LnZhbHVlID0gaW5wdXRUZXh0O1xuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgY2xlYW5QaG9uZTogSFRNTElucHV0RWxlbWVudCA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGVhbl9waG9uZV9pbnB1dCcpO1xuaWYgKGNsZWFuUGhvbmUpIHtcbiAgY2xlYW5QaG9uZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlOiBhbnkpID0+IHtcbiAgICBpZiAoZS50YXJnZXQudmFsdWUpIHtcbiAgICAgIGNvbnN0IHggPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAucmVwbGFjZSgvXFxEL2csICcnKVxuICAgICAgICAubWF0Y2goLyhcXGR7MCwzfSkoXFxkezAsM30pKFxcZHswLDR9KS8pO1xuICAgICAgZS50YXJnZXQudmFsdWUgPVxuICAgICAgICB4WzFdICtcbiAgICAgICAgKHhbMl0gPyBgLSR7eFsyXX1gIDogJycpICtcbiAgICAgICAgKHhbM10gPyBgLSR7eFszXX1gIDogJycpICtcbiAgICAgICAgKHhbNF0gPyBgLSR7eFs0XX1gIDogJycpO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHByaWNpbmdCdXR0b246IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpY2luZ19idXR0b24nKTtcbmlmIChwcmljaW5nQnV0dG9uKSB7XG4gIHByaWNpbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpY2luZycpLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNvbnN0IGNvbnRhY3RCdXR0b246IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFjdF9idXR0b24nKTtcbmlmIChjb250YWN0QnV0dG9uKSB7XG4gIGNvbnRhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFjdHMnKS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBmaXJzdEFycm93QnV0dG9uOiBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpcnN0X2Fycm93Jyk7XG5pZiAoZmlyc3RBcnJvd0J1dHRvbikge1xuICBmaXJzdEFycm93QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlY29uZF9zZWN0aW9uJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgIH0pO1xuICB9KTtcbn1cblxuY29uc3Qgc2Vjb25kQXJyb3dCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY29uZF9hcnJvdycpO1xuXG5zZWNvbmRBcnJvd0J1dHRvbnMuZm9yRWFjaChzZWNvbmRBcnJvd0J1dHRvbiA9PiB7XG4gIHNlY29uZEFycm93QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvdXJ0aF9zZWN0aW9uJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG4vLyBTZWxlY3QgdGhlIGVsZW1lbnRzIHRvIHJldmVhbFxuY29uc3QgcmV2ZWFsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV2ZWFsLWVsZW1lbnQnKTtcblxuLy8gQ3JlYXRlIGFuIEludGVyc2VjdGlvbiBPYnNlcnZlciBpbnN0YW5jZVxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gIGVudHJpZXMgPT4ge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgaWYgKGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3FyLWNvZGUnKSkge1xuICAgICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdmbGlwSW5ZJyk7XG4gICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGVkJyk7XG4gICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JldmVhbCcpOyAvLyBBZGQgdGhlIFwicmV2ZWFsXCIgY2xhc3MgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JldmVhbCcpOyAvLyBBZGQgdGhlIFwicmV2ZWFsXCIgY2xhc3MgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7IC8vIFN0b3Agb2JzZXJ2aW5nIG9uY2UgcmV2ZWFsZWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB7dGhyZXNob2xkOiAwLjV9LFxuKTsgLy8gQWRqdXN0IHRoZSB0aHJlc2hvbGQgYXMgbmVlZGVkXG5cbi8vIFN0YXJ0IG9ic2VydmluZyBlYWNoIHJldmVhbCBlbGVtZW50XG5yZXZlYWxFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xufSk7XG5cbmNvbnN0IGxhbmRpbmdfbW9iaWxlX21lbnVfYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcjbGFuZGluZ19tb2JpbGVfbWVudV9idXR0b24nLFxuKTtcbmNvbnN0IGxhbmRpbmdfbW9iaWxlX21lbnU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJyNsYW5kaW5nX21vYmlsZV9tZW51Jyxcbik7XG5jb25zdCBmb290ZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9vdGVyJyk7XG5jb25zdCBzZWN0aW9uczogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJyk7XG5pZiAobGFuZGluZ19tb2JpbGVfbWVudV9idXR0b24pIHtcbiAgbGFuZGluZ19tb2JpbGVfbWVudV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbGFuZGluZ19tb2JpbGVfbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICBmb290ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgc2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBtb2JpbGVfcHJpY2luZzogSFRNTERpdkVsZW1lbnQgPVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9iaWxlX3ByaWNpbmcnKTtcbmNvbnN0IG1vYmlsZV9jb250YWN0czogSFRNTERpdkVsZW1lbnQgPVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9iaWxlX2NvbnRhY3QnKTtcblxuaWYgKG1vYmlsZV9wcmljaW5nKSB7XG4gIG1vYmlsZV9wcmljaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxhbmRpbmdfbW9iaWxlX21lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICBzZWN0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcmljaW5nJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgIH0pO1xuICB9KTtcbn1cblxuaWYgKG1vYmlsZV9jb250YWN0cykge1xuICBjb25zb2xlLmxvZyhtb2JpbGVfY29udGFjdHMpO1xuICBtb2JpbGVfY29udGFjdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbGFuZGluZ19tb2JpbGVfbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICBmb290ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgc2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRhY3RzJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgIH0pO1xuICB9KTtcbn1cblxuY29uc3QgbW9iaWxlVGhlbWVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJyN0aGVtZS10b2dnbGUtd3JhcHBlcicsXG4pO1xuY29uc3QgbW9iaWxlTWVudUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnI21vYmlsZS1tZW51LWJ1dHRvbicsXG4pO1xuY29uc29sZS5sb2cobW9iaWxlVGhlbWVCdXR0b24pO1xuaWYgKG1vYmlsZVRoZW1lQnV0dG9uKSB7XG4gIG1vYmlsZVRoZW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdtb2JpbGVNZW51QnV0dG9uIGNsaWNrZWQnKTtcbiAgICBtb2JpbGVNZW51QnV0dG9uLmNsaWNrKCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9