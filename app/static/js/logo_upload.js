document.addEventListener("DOMContentLoaded",(function(){console.log("logo_upload.ts loaded");var e=document.querySelector("#drop_zone"),n=document.querySelector("#image_upload");function o(n){console.log(n);var o=new FormData;o.append("file",n);var t=new FileReader;t.onload=function(n){e.innerHTML='<img src="'.concat(n.target.result,'" alt="Preview" style="max-height: 240px;">'),fetch(window.location.href,{method:"POST",body:o}).then((function(e){return console.log(e)})).catch((function(e){console.error("Error:",e)}))},t.readAsDataURL(n)}e.addEventListener("dragover",(function(n){n.preventDefault(),e.style.backgroundColor="#f7f7f7"})),e.addEventListener("dragleave",(function(n){n.preventDefault(),e.style.backgroundColor="#fff"})),e.addEventListener("drop",(function(n){console.log(n),n.preventDefault(),e.style.backgroundColor="#fff";var t=n.dataTransfer.files;t.length>0&&o(t[0])})),e.addEventListener("click",(function(){n.click()})),n.addEventListener("change",(function(e){var n=e.target.files;n&&n.length>0&&o(n[0])}))}));