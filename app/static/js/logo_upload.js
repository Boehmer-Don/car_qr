document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#drop_zone");console.log(e),console.log(window.location.href),e.addEventListener("dragover",(function(t){t.preventDefault(),e.style.backgroundColor="#f7f7f7"})),e.addEventListener("dragleave",(function(t){t.preventDefault(),e.style.backgroundColor="#fff"})),e.addEventListener("drop",(function(t){t.preventDefault(),e.style.backgroundColor="#fff";var n=t.dataTransfer.files[0],o=new FormData;o.append("file",n);var a=new XMLHttpRequest;a.open("POST",window.location.href,!0),a.onload=function(){if(200===a.status){var t=new FileReader;t.onload=function(t){e.innerHTML='<img src="'+t.target.result+'" alt="Preview style="width: 100%; height: auto;">'},t.readAsDataURL(n)}else alert("Error ".concat(a.status,"! Failed to upload the file."))},a.send(o)}))}));