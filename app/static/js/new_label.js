(()=>{console.log("new_label.ts");var e=document.querySelectorAll(".suggestion-container");document.addEventListener("keydown",(function(n){"Escape"===n.key&&(console.log("Escape pressed"),e.forEach((function(e){e.classList.add("hidden")})))}));var n=document.querySelector(".make-container"),t=document.querySelector(".model-container"),o=document.querySelector(".trim-container"),c=document.querySelector(".type-container"),i=document.querySelector("#make-1"),l=document.querySelector("#vehicle_model-1"),r=document.querySelector("#label-1-trim"),s=document.querySelector("#label-1-type"),d=document.querySelector(".make-suggestion"),a=document.querySelector(".model-suggestion"),u=document.querySelector(".trim-suggestion");function m(){document.querySelectorAll(".make-suggestion").forEach((function(e){e.addEventListener("click",(function(e){console.log("Make suggestion clicked",e.target.innerHTML),i.value=e.target.innerHTML.trim(),n.classList.add("hidden"),console.log("makeInput.value",i.value);var o=[];fetch("/labels/get_models",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({makeSelected:i.value})}).then((function(e){return e.json()})).then((function(e){o.push.apply(o,e.models),t.innerHTML="",o.forEach((function(e){var n=a.cloneNode(!0);n.innerHTML=e,t.appendChild(n)}))})).catch((function(e){console.error("Error fetching models by make:",e)})),l.addEventListener("click",(function(e){t.classList.remove("hidden"),g()}))}))}))}function g(){document.querySelectorAll(".model-suggestion").forEach((function(e){e.addEventListener("click",(function(e){console.log("Model suggestion clicked",e.target.innerHTML),l.value=e.target.innerHTML.trim(),t.classList.add("hidden"),console.log("modelInput.value",l.value);var n=[];fetch("/labels/get_trims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelSelected:l.value})}).then((function(e){return e.json()})).then((function(e){n.push.apply(n,e.trims),o.innerHTML="",n.forEach((function(e){var n=u.cloneNode(!0);n.innerHTML=e,o.appendChild(n)})),i.value=e.make,s.value=e.type,f()})).catch((function(e){console.error("Error fetching trims by model:",e)})),l.addEventListener("click",(function(e){t.classList.remove("hidden")}))}))}))}function f(){document.querySelectorAll(".trim-suggestion").forEach((function(e){e.addEventListener("click",(function(e){console.log("Trim suggestion clicked",e.target.innerHTML),r.value=e.target.innerHTML,o.classList.add("hidden"),console.log("trimInput.value",r.value)}))}))}document.querySelector(".type-suggestion"),i&&i.addEventListener("input",(function(e){var t=[];fetch("/labels/get_makes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({makeTyped:e.target.value})}).then((function(e){return e.json()})).then((function(e){t.push.apply(t,e.makes),n.classList.remove("hidden"),n.innerHTML="",t.forEach((function(e){var t=d.cloneNode(!0);t.innerHTML=e,n.appendChild(t)})),m()})).catch((function(e){console.error("Error sending makes data to Flask:",e)}))})),i.addEventListener("click",(function(e){n.classList.toggle("hidden")})),l.addEventListener("click",(function(e){t.classList.toggle("hidden")})),r.addEventListener("click",(function(e){console.log("trimInput clicked"),o.classList.toggle("hidden")})),s.addEventListener("click",(function(e){console.log("typeInput clicked"),console.log(c),c.classList.toggle("hidden")})),l&&l.addEventListener("input",(function(e){var n=[];fetch("/labels/get_models",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelTyped:l.value})}).then((function(e){return e.json()})).then((function(e){n.push.apply(n,e.models),t.innerHTML="",n.forEach((function(e){var n=a.cloneNode(!0);n.innerHTML=e,t.appendChild(n)})),console.log("before SelectModel()"),g()})).catch((function(e){console.error("Error fetching all models:",e)}))})),m(),g(),f()})();